@model SacramentMeetingPlanner.Models.Meeting

@{
    ViewData["Title"] = "Delete Meeting";
}

<h3 class="header h3">Are you sure you want to delete this?</h3>
<div>
    <h4 class="header h4">Meeting Info</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.MeetingDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.MeetingDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Member)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Member.FullName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.OpeningHymn)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.OpeningHymn)
        </dd>
        <dt class="col-sm-2">
            Opening Prayer
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Participants.ElementAt(0).Member.FullName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.SacramentHymn)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.SacramentHymn)
        </dd>
        @{
            int speakers = Model.Participants.Count - 2;
            if (speakers == 0)
            {
                <dt class="col-sm-2">
                    Testimony Meeting
                </dt>
                <dd class="col-sm-10">
                    Open to the Congregation.
                </dd>
            }
            else
            {
                int splitSpeakers = -1;
                if (Model.IntermediateNumber != null)
                {
                    splitSpeakers = speakers / 2;
                }
                for (int i = 0; i < speakers; i++)
                {
                    <dt class="col-sm-2">
                        Speaker
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Participants.ElementAt(i + 2).Member.FullName)
                    </dd>
                    <dt class="col-sm-2">
                        @Html.DisplayNameFor(model => model.Participants.ElementAt(i + 2).Topic)
                    </dt>
                    <dd class="col-sm-10">
                        @Html.DisplayFor(model => model.Participants.ElementAt(i + 2).Topic)
                    </dd>
                    if (i == splitSpeakers)
                    {
                        <dt class = "col-sm-2">
                            @Html.DisplayNameFor(model => model.IntermediateNumber)
                        </dt>
                        <dd class = "col-sm-10">
                            @Html.DisplayFor(model => model.IntermediateNumber)
                        </dd>
                    }
                }
            }
        }
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ClosingHymn)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ClosingHymn)
        </dd>
        <dt class="col-sm-2">
            Closing Prayer
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Participants.ElementAt(1).Member.FullName)
        </dd>
    </dl>
    
    <form asp-action="Delete">
        <input type="hidden" asp-for="ID" />
        <input type="submit" value="Delete Meeting" class="btn btn-danger" /> 
                <a class="btn btn-list" asp-action="Index">Back to List</a>
    </form>
</div>
